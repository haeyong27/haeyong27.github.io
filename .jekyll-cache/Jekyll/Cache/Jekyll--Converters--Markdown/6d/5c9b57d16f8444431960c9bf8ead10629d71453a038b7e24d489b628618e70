I"ö<<ul>
  <li><a href="#django-restframework-view">Django Restframework View</a></li>
  <li><a href="#genericapiview">GenericAPIView</a>
    <ul>
      <li><a href="#attributes">Attributes</a></li>
    </ul>
  </li>
  <li><a href="#mixins">Mixins</a></li>
  <li><a href="#concrete-view-classes">Concrete View Classes</a></li>
  <li><a href="#customizing-the-generic-views">Customizing the generic views</a>
    <ul>
      <li><a href="#creating-custom-mixins">Creating custom mixins</a></li>
    </ul>
  </li>
</ul>

<h1 id="django-restframework-view">Django Restframework View</h1>
<p><a href="https://www.django-rest-framework.org/api-guide/views/#class-based-views">Views - Django REST framework</a></p>

<blockquote>
  <p>REST framework provides an APIView class, which subclasses Djangoâ€™s View class.
APIView classes are different from regular View classes in the following ways:</p>
</blockquote>

<blockquote>
  <ul>
    <li>Requests passed to the handler methods will be REST frameworkâ€™s Request instances, not Djangoâ€™s HttpRequest instances.</li>
    <li>Handler methods may return REST frameworkâ€™s Response, instead of Djangoâ€™s HttpResponse. The view will manage content negotiation and setting the correct renderer on the response.</li>
    <li>Any APIException exceptions will be caught and mediated into appropriate responses.</li>
    <li>Incoming requests will be authenticated and appropriate permission and/or throttle checks will be run before dispatching the request to the handler method.</li>
  </ul>
</blockquote>

<ul>
  <li>handler methodsë¥¼ í†µê³¼í•˜ëŠ” ìš”ì²­ì€ Djangoì˜ HttpResquestê°€ ì•„ë‹Œ DRFì˜ ë¦¬í€˜ìŠ¤íŠ¸ ì¸ìŠ¤í„´ìŠ¤ê°€ ëœë‹¤.</li>
  <li>responserë„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.</li>
  <li>ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ì´ë¥¼ handler methodë¡œ ì „ë‹¬í•˜ê¸° ì „ì— ì ì ˆí•œ ê¶Œí•œì„ ë¶€ì—¬í•˜ê³  throttle(í˜¸ì¶œ íšŸìˆ˜ ì œí•œ) ë“±ì„ ì–¼ë§ˆë‚˜ ì¤„ì§€ ì²´í¬í•©ë‹ˆë‹¤.</li>
</ul>

<blockquote>
  <p>Using the APIView class is pretty much the same as using a regular View class, as usual, the incoming request is dispatched to an appropriate handler method such as .get() or .post(). Additionally, a number of attributes may be set on the class that control various aspects of the API policy.</p>
</blockquote>

<p>APIViewëŠ” ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ ë°›ì•„ ì ì ˆí•œ hadler method( .get() or .post() ë“±)ì— ì „ë‹¬í•˜ëŠ” ì¼ë°˜ì ì¸ viewì™€ ìƒë‹¹íˆ ìœ ì‚¬í•˜ë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">ListUsers</span><span class="p">(</span><span class="n">APIView</span><span class="p">):</span>
    <span class="s">"""
    View to list all users in the system.

    * Requires token authentication.
    * Only admin users are able to access this view.
    """</span>
    <span class="n">authentication_classes</span> <span class="o">=</span> <span class="p">[</span><span class="n">authentication</span><span class="o">.</span><span class="n">TokenAuthentication</span><span class="p">]</span>
    <span class="n">permission_classes</span> <span class="o">=</span> <span class="p">[</span><span class="n">permissions</span><span class="o">.</span><span class="n">IsAdminUser</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="s">"""
        Return a list of all users.
        """</span>
        <span class="n">usernames</span> <span class="o">=</span> <span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">username</span> <span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="nb">all</span><span class="p">()]</span>
        <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="n">usernames</span><span class="p">)</span>
</code></pre></div></div>

<blockquote>
  <p>Typically when using the generic views, youâ€™ll override the view, and set several class attributes.</p>
</blockquote>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">UserList</span><span class="p">(</span><span class="n">generics</span><span class="o">.</span><span class="n">ListCreateAPIView</span><span class="p">):</span>
    <span class="n">queryset</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="nb">all</span><span class="p">()</span>
    <span class="n">serializer_class</span> <span class="o">=</span> <span class="n">UserSerializer</span>
    <span class="n">permission_classes</span> <span class="o">=</span> <span class="p">[</span><span class="n">IsAdminUser</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
        <span class="c1"># Note the use of `get_queryset()` instead of `self.queryset`
</span>        <span class="n">queryset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">()</span>
        <span class="n">serializer</span> <span class="o">=</span> <span class="n">UserSerializer</span><span class="p">(</span><span class="n">queryset</span><span class="p">,</span> <span class="n">many</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="n">serializer</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>

</code></pre></div></div>

<h1 id="genericapiview">GenericAPIView</h1>

<p><a href="https://www.django-rest-framework.org/api-guide/generic-views/#genericapiview">GenericAPIView</a></p>
<blockquote>
  <p>This class extends REST frameworkâ€™s APIView class, adding commonly required behavior for standard list and detail views.
Each of the concrete generic views provided is built by combining GenericAPIView, with one or more mixin classes.</p>
</blockquote>

<h2 id="attributes">Attributes</h2>
<p><a href="https://www.django-rest-framework.org/api-guide/generic-views/#attributes">Attributes</a>
<strong>Basic settings</strong>:
The following attributes control the basic view behavior.</p>
<ul>
  <li>queryset - The queryset that should be used for returning objects from this view. Typically, you must either set this attribute, or override the get_queryset() method. If you are overriding a view method, it is important that you call get_queryset() instead of accessing this property directly, as queryset will get evaluated once, and those results will be cached for all subsequent requests.</li>
  <li>serializer_class - The serializer class that should be used for validating and deserializing input, and for serializing output. Typically, you must either set this attribute, or override the get_serializer_class() method.</li>
  <li>lookup_field - The model field that should be used to for performing object lookup of individual model instances. Defaults to â€˜pkâ€™. Note that when using hyperlinked APIs youâ€™ll need to ensure that <em>both</em> the API views <em>and</em> the serializer classes set the lookup fields if you need to use a custom value.</li>
  <li>lookup_url_kwarg - The URL keyword argument that should be used for object lookup. The URL conf should include a keyword argument corresponding to this value. If unset this defaults to using the same value as lookup_field.</li>
</ul>

<p>queryset : ë·°ë¡œë¶€í„° ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤. queryset ì†ì„±ì„ ì„¸íŒ…í•˜ê±°ë‚˜ get_queryset()ë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤. í•˜ì§€ë§Œ ì†ì„±ì„ ì§ì ‘ ì ‘ê·¼í•´ì„œ ìˆ˜ì •í•˜ê¸° ë³´ë‹¤ëŠ” get_queryset()ì„ í˜¸ì¶œí•´ì„œ ì˜¤ë²„ë¼ì´ë“œ í•˜ëŠ”ê²ƒì´ ì¢‹ë‹¤. ì™œëƒí•˜ë©´ ê·¸ ì´í›„ì— ì´ë£¨ì–´ì§€ëŠ” ìš”ì²­ì„ ìºì‹±í•  ìˆ˜ ìˆê¸°ë•Œë¬¸ì´ë‹¤.</p>

<p>serializer_class : ìœ íš¨ì„±ê²€ì‚¬, inputê°’ì„ ë”” ì‹œë¦¬ì–¼ë¼ì´ì§•(ìœ ì €ë¡œë¶€í„° ì…ë ¥ë°›ì€ê²ƒì„ djangoê°€ ë” ì´í•´í•˜ê¸° í¸í•œ í˜•íƒœë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •), outputì„ ì‹œë¦¬ì–¼ë¼ì´ì§•í•œë‹¤.</p>

<p>lookup_field : ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ê°ì²´ë¥¼ ì¡°íšŒí•  ë•Œ ì‚¬ìš©ë  í•„ë“œ. ê°„ë‹¨í•˜ê²Œ ë§í•´ì„œ PK(primary key). ê¸°ë³¸ê°’ì€ pkì´ë‹¤.</p>

<p>ì´ ì™¸ì—ë„ <a href="https://www.django-rest-framework.org/api-guide/generic-views/#attributes">Pagination, Filtering</a> 
 ë“±ì´ ìˆë‹¤.</p>

<h1 id="mixins">Mixins</h1>
<p><a href="https://www.django-rest-framework.org/api-guide/generic-views/#mixins">Mixins</a></p>
<blockquote>
  <p>The mixin classes provide the actions that are used to provide the basic view behavior. Note that the mixin classes provide action methods rather than defining the handler methods, such as .get() and .post(), directly. This allows for more flexible composition of behavior.
The mixin classes can be imported from rest_framework.mixins.
mixin classesëŠ” ê¸°ë³¸ viewì˜ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. .get() .post()ì™€ ê°™ì€ handler methodsë¥¼ ì§ì ‘ ì •ì˜í•˜ê¸° ë³´ë‹¤ëŠ” action methodë¥¼ ì œê³µí•˜ê¸° ë•Œë¬¸ì— ì¢€ë” ìœ ì—°í•˜ê²Œ ì‘ë‹µì„ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.</p>
</blockquote>

<h1 id="concrete-view-classes">Concrete View Classes</h1>
<p><a href="https://www.django-rest-framework.org/api-guide/generic-views/#concrete-view-classes">Concrete View Classes</a></p>
<blockquote>
  <p>The following classes are the concrete generic views. If youâ€™re using generic views this is normally the level youâ€™ll be working at unless you need heavily customized behavior.
The view classes can be imported from rest_framework.generics.</p>
</blockquote>

<p>ë™ì‘ì„ ì»¤ìŠ¤í…€í•  ê²½ìš°ê°€ ì•„ë‹ˆë¼ë©´ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê²Œ ë  í´ë ˆìŠ¤ì´ë‹¤. 
ì˜ˆë¥¼ ë“¤ì–´</p>
<ol>
  <li>
    <p><a href="https://www.django-rest-framework.org/api-guide/generic-views/#createapiview">CreateAPIView</a>
Used for <strong>create-only</strong> endpoints.
Provides a post method handler.
Extends:  <a href="https://www.django-rest-framework.org/api-guide/generic-views/#genericapiview">GenericAPIView</a> ,  <a href="https://www.django-rest-framework.org/api-guide/generic-views/#createmodelmixin">CreateModelMixin</a></p>
  </li>
  <li>
    <p><a href="https://www.django-rest-framework.org/api-guide/generic-views/#listapiview">ListAPIView</a>
Used for <strong>read-only</strong> endpoints to represent a <strong>collection of model instances</strong>.
Provides a get method handler.
Extends:  <a href="https://www.django-rest-framework.org/api-guide/generic-views/#genericapiview">GenericAPIView</a> ,  <a href="https://www.django-rest-framework.org/api-guide/generic-views/#listmodelmixin">ListModelMixin</a></p>
  </li>
</ol>

<p>ì´ì™¸ì—ë„ ë‹¤ì–‘í•˜ê²Œ ìˆë‹¤.</p>
<ul>
  <li><a href="https://www.django-rest-framework.org/api-guide/generic-views/#retrieveapiview">RetrieveAPIView</a></li>
  <li><a href="https://www.django-rest-framework.org/api-guide/generic-views/#destroyapiview">DestroyAPIView</a></li>
  <li><a href="https://www.django-rest-framework.org/api-guide/generic-views/#updateapiview">UpdateAPIView</a></li>
  <li><a href="https://www.django-rest-framework.org/api-guide/generic-views/#listcreateapiview">ListCreateAPIView</a></li>
  <li><a href="https://www.django-rest-framework.org/api-guide/generic-views/#retrieveupdateapiview">RetrieveUpdateAPIView</a></li>
  <li><a href="https://www.django-rest-framework.org/api-guide/generic-views/#retrievedestroyapiview">RetrieveDestroyAPIView</a></li>
  <li><a href="https://www.django-rest-framework.org/api-guide/generic-views/#retrieveupdatedestroyapiview">RetrieveUpdateDestroyAPIView</a></li>
</ul>

<h1 id="customizing-the-generic-views">Customizing the generic views</h1>
<p><a href="https://www.django-rest-framework.org/api-guide/generic-views/#customizing-the-generic-views">Customizing the generic views</a>
Often youâ€™ll want to use the existing generic views, but use some slightly customized behavior. If you find yourself reusing some bit of customized behavior in multiple places, you might want to refactor the behavior into a common class that you can then just apply to any view or viewset as needed.</p>

<h2 id="creating-custom-mixins">Creating custom mixins</h2>
<p><a href="https://www.django-rest-framework.org/api-guide/generic-views/#creating-custom-mixins">Creating custom mixins</a>
For example, if you need to lookup objects based on multiple fields in the URL conf, you could create a mixin class like the following:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MultipleFieldLookupMixin</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="s">"""
    Apply this mixin to any view or viewset to get multiple field filtering
    based on a `lookup_fields` attribute, instead of the default single field filtering.
    """</span>
    <span class="k">def</span> <span class="nf">get_object</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">queryset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">()</span>             <span class="c1"># Get the base queryset
</span>        <span class="n">queryset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_queryset</span><span class="p">(</span><span class="n">queryset</span><span class="p">)</span>  <span class="c1"># Apply any filter backends
</span>        <span class="nb">filter</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookup_fields</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">[</span><span class="n">field</span><span class="p">]:</span> <span class="c1"># Ignore empty fields.
</span>                <span class="nb">filter</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">[</span><span class="n">field</span><span class="p">]</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">queryset</span><span class="p">,</span> <span class="o">**</span><span class="nb">filter</span><span class="p">)</span>  <span class="c1"># Lookup the object
</span>        <span class="bp">self</span><span class="o">.</span><span class="n">check_object_permissions</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span>
</code></pre></div></div>

:ET